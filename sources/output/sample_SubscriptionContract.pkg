{"name":"SubscriptionContract","code":"te6ccgECIwEABb0AART/APSkE/S88sgLAQIBYgIDAuzQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zxVFNs88uCCyPhDAcx/AcoAVUBQVCDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFlj6AgH6AhLLH/QAye1UIAQCAVgSEwP0AZIwf+BwIddJwh+VMCDXCx/eIIIQJH5XbbqOpDDTHwGCECR+V2268uCB+gABMVVA2zwzggDDdCXCAPL0EDRYf+AgghDx1ohIuo6tMNMfAYIQ8daISLry4IHTHwExVUDbPDGBYUklwgCVJYEnELuRcOLy9BA0QTB/4CAGBgUEnIIQC6aXUbqPMjDTHwGCEAuml1G68uCB+gABMVVA2zyBFPpTY7vy9FEloVJGcn9VIG1tbds8MBA0QwB/4CCCEFxyNC264wIgghCtfDrdugYQBwgAIvhBbyQQI18DJYE+tQLHBfL0A9Iw0x8BghBccjQtuvLggW0xMPhBbyQwMoE5vlMmvvL0UUGg+CMjgQELJ4EBAUEz9ApvoZQB1wAwkltt4m6PKIEBCzOCCAk6gKAVgQEBIW6VW1n0WTCYyAHPAEEz9EHiiPhCAX9t2zzjDn8JDwoCko6TMNMfAYIQrXw63bry4IFtMds8f+CCEJRqmLa6jqfTHwGCEJRqmLa68uCB0z8BMcgBghCv+Q9XWMsfyz/J+EIBcG3bPH/gMHAMDwA0AAAAAEZyZWUgdHJpYWwgaGFzIHN0YXJ0ZWQCnCOBAQsngQEBQTP0Cm+hlAHXADCSW23iIG7y0IADgggnjQCoJ6kEUDO2CViggQELQFWBAQEhbpVbWfRZMJjIAc8AQTP0QeKI+EIBf23bPAsPADYAAAAAU3Vic2NyaXB0aW9uIHN1Y2Nlc3NmdWwB8jD4QW8kECNfA/gjIoEBCyOBAQFBM/QKb6GUAdcAMJJbbeKBR4shbrPy9IIAmEUhIG7y0IAjvPL0ICBu8tCAIqEBIG7y0IBTIaGhUgKhUnCogScQJqCoAYEnEKipBCZwAqG2CYIA9WFTFrvy9FFVoROBAQtUIDWBAQENA14hbpVbWfRZMJjIAc8AQTP0QeIkwgCOiwRyf1UgbW1t2zwwkjQw4ogT+EIBf23bPBAODwAoAAAAAFJlZnVuZCBwcm9jZXNzZWQBPG1tIm6zmVsgbvLQgG8iAZEy4hAkcAMEgEJQI9s8MBAByshxAcoBUAcBygBwAcoCUAUg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxZQA/oCcAHKaCNus5F/kyRus+KXMzMBcAHKAOMNIW6znH8BygABIG7y0IABzJUxcAHKAOLJAfsIEQCYfwHKAMhwAcoAcAHKACRus51/AcoABCBu8tCAUATMljQDcAHKAOIkbrOdfwHKAAQgbvLQgFAEzJY0A3ABygDicAHKAAJ/AcoAAslYzAIBIBQVAgEgGBkCEbbYG2ebZ42KMCAWAk20f0Qa6TAgIXdeXBEEGuFhRBAgn/deWhEwYTdeXBEbZ4qgm2eNijAgFwACIgA4gQELIgKBAQFBM/QKb6GUAdcAMJJbbeIgbvLQgAIBIBobAhG3B3tnm2eNijAgIQARsK+7UTQ0gABgAgEgHB0CEa6N7Z5tnjYowCAeAk2tPxBrpMCAhd15cEQQa4WFEECCf915aETBhN15cERtniqCbZ42KMAgHwACIwBKgQELIgKBAQFBM/QKb6GUAdcAMJJbbeIgbpIwcOAgbvLQgPgjvAHO7UTQ1AH4Y9IAAY4s+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAH6APoA0x/0BFVAbBXg+CjXCwqDCbry4In6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAdHbPCIAAiEAGm2CEDuaygBwWIED6AE=","abi":"{\"name\":\"SubscriptionContract\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"StdAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":8}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}}]},{\"name\":\"VarAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":32}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"SubscriptionPeriod\",\"header\":2005346073,\"fields\":[{\"name\":\"period\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"UpdatePrice\",\"header\":612259693,\"fields\":[{\"name\":\"newPrice\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"UpdateFeeRate\",\"header\":4057368648,\"fields\":[{\"name\":\"newRate\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"Withdraw\",\"header\":195467089,\"fields\":[{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"Subscribe\",\"header\":1550988333,\"fields\":[]},{\"name\":\"Refund\",\"header\":2910599901,\"fields\":[]},{\"name\":\"SubscriptionContract$Data\",\"header\":null,\"fields\":[{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"balance\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"feeRate\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"subscriptions\",\"type\":{\"kind\":\"dict\",\"key\":\"address\",\"value\":\"int\"}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdatePrice\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UpdateFeeRate\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Withdraw\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Subscribe\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Refund\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}}],\"getters\":[{\"name\":\"checkSubscription\",\"arguments\":[{\"name\":\"user\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"expiryTime\",\"arguments\":[{\"name\":\"user\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"price\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"balance\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"feeRate\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"errors\":{\"2\":{\"message\":\"Stack underflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"11\":{\"message\":\"'Unknown' error\"},\"12\":{\"message\":\"Fatal error\"},\"13\":{\"message\":\"Out of gas error\"},\"14\":{\"message\":\"Virtualization error\"},\"32\":{\"message\":\"Action list is invalid\"},\"33\":{\"message\":\"Action list is too long\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"35\":{\"message\":\"Invalid source address in outbound message\"},\"36\":{\"message\":\"Invalid destination address in outbound message\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"39\":{\"message\":\"Outbound message does not fit into a cell after rewriting\"},\"40\":{\"message\":\"Cannot process a message\"},\"41\":{\"message\":\"Library reference is null\"},\"42\":{\"message\":\"Library change action error\"},\"43\":{\"message\":\"Exceeded maximum number of cells in the library or the maximum depth of the Merkle tree\"},\"50\":{\"message\":\"Account state size exceeded limits\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"5370\":{\"message\":\"Balance is not enough\"},\"14782\":{\"message\":\"Payment amount is not enough\"},\"16053\":{\"message\":\"Only owner can call\"},\"18315\":{\"message\":\"No active subscription\"},\"24905\":{\"message\":\"Invalid fee rate\"},\"38981\":{\"message\":\"Subscription already expired\"},\"50036\":{\"message\":\"Price must be greater than 0\"},\"62817\":{\"message\":\"Contract balance not enough for refund\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.chain.workchain.v0\"]}","init":{"kind":"direct","args":[{"name":"owner","type":{"kind":"simple","type":"address","optional":false}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"te6cckECJQEABccAAQHAAQEFoN9VAgEU/wD0pBP0vPLICwMCAWIEEwLs0AHQ0wMBcbCjAfpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IhUUFMDbwT4YQL4Yts8VRTbPPLggsj4QwHMfwHKAFVAUFQg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxZY+gIB+gISyx/0AMntVCIFA/QBkjB/4HAh10nCH5UwINcLH94gghAkfldtuo6kMNMfAYIQJH5Xbbry4IH6AAExVUDbPDOCAMN0JcIA8vQQNFh/4CCCEPHWiEi6jq0w0x8BghDx1ohIuvLggdMfATFVQNs8MYFhSSXCAJUlgScQu5Fw4vL0EDRBMH/gIAcHBgScghALppdRuo8yMNMfAYIQC6aXUbry4IH6AAExVUDbPIEU+lNju/L0USWhUkZyf1UgbW1t2zwwEDRDAH/gIIIQXHI0LbrjAiCCEK18Ot26BxEIDAAi+EFvJBAjXwMlgT61AscF8vQD0jDTHwGCEFxyNC268uCBbTEw+EFvJDAygTm+Uya+8vRRQaD4IyOBAQsngQEBQTP0Cm+hlAHXADCSW23ibo8ogQELM4IICTqAoBWBAQEhbpVbWfRZMJjIAc8AQTP0QeKI+EIBf23bPOMOfwkQCgA0AAAAAEZyZWUgdHJpYWwgaGFzIHN0YXJ0ZWQCnCOBAQsngQEBQTP0Cm+hlAHXADCSW23iIG7y0IADgggnjQCoJ6kEUDO2CViggQELQFWBAQEhbpVbWfRZMJjIAc8AQTP0QeKI+EIBf23bPAsQADYAAAAAU3Vic2NyaXB0aW9uIHN1Y2Nlc3NmdWwCko6TMNMfAYIQrXw63bry4IFtMds8f+CCEJRqmLa6jqfTHwGCEJRqmLa68uCB0z8BMcgBghCv+Q9XWMsfyz/J+EIBcG3bPH/gMHANEAHyMPhBbyQQI18D+CMigQELI4EBAUEz9ApvoZQB1wAwkltt4oFHiyFus/L0ggCYRSEgbvLQgCO88vQgIG7y0IAioQEgbvLQgFMhoaFSAqFScKiBJxAmoKgBgScQqKkEJnACobYJggD1YVMWu/L0UVWhE4EBC1QgNYEBAQ4DXiFulVtZ9FkwmMgBzwBBM/RB4iTCAI6LBHJ/VSBtbW3bPDCSNDDiiBP4QgF/bds8EQ8QACgAAAAAUmVmdW5kIHByb2Nlc3NlZAE8bW0ibrOZWyBu8tCAbyIBkTLiECRwAwSAQlAj2zwwEQHKyHEBygFQBwHKAHABygJQBSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFlAD+gJwAcpoI26zkX+TJG6z4pczMwFwAcoA4w0hbrOcfwHKAAEgbvLQgAHMlTFwAcoA4skB+wgSAJh/AcoAyHABygBwAcoAJG6znX8BygAEIG7y0IBQBMyWNANwAcoA4iRus51/AcoABCBu8tCAUATMljQDcAHKAOJwAcoAAn8BygACyVjMAgFYFBkCASAVFwIRttgbZ5tnjYowIhYAAiICTbR/RBrpMCAhd15cEQQa4WFEECCf915aETBhN15cERtniqCbZ42KMCIYADiBAQsiAoEBAUEz9ApvoZQB1wAwkltt4iBu8tCAAgEgGiECASAbHAARsK+7UTQ0gABgAgEgHR8CEa6N7Z5tnjYowCIeAAIjAk2tPxBrpMCAhd15cEQQa4WFEECCf915aETBhN15cERtniqCbZ42KMAiIABKgQELIgKBAQFBM/QKb6GUAdcAMJJbbeIgbpIwcOAgbvLQgPgjvAIRtwd7Z5tnjYowIiQBzu1E0NQB+GPSAAGOLPpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB+gD6ANMf9ARVQGwV4Pgo1wsKgwm68uCJ+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAHR2zwjABptghA7msoAcFiBA+gBAAIhafTxtg=="}},"sources":{"sources/contract.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CgovLyBTdWJzY3JpcHRpb24gcGVyaW9kIGVudW0KbWVzc2FnZSBTdWJzY3JpcHRpb25QZXJpb2QgewogICAgcGVyaW9kOiBJbnQgYXMgdWludDMyOyAvLyBTdWJzY3JpcHRpb24gcGVyaW9kIGluIHNlY29uZHMKfQoKLy8gVXBkYXRlIHByaWNlIG1lc3NhZ2UKbWVzc2FnZSBVcGRhdGVQcmljZSB7CiAgICBuZXdQcmljZTogSW50IGFzIGNvaW5zOyAvLyBOZXcgc3Vic2NyaXB0aW9uIHByaWNlCn0KCi8vIFVwZGF0ZSBmZWUgcmF0ZSBtZXNzYWdlCm1lc3NhZ2UgVXBkYXRlRmVlUmF0ZSB7CiAgICBuZXdSYXRlOiBJbnQgYXMgdWludDMyOyAvLyBOZXcgZmVlIHJhdGUgKDAtMTAwMDApCn0KCi8vIFdpdGhkcmF3IG1lc3NhZ2UKbWVzc2FnZSBXaXRoZHJhdyB7CiAgICBhbW91bnQ6IEludCBhcyBjb2luczsgLy8gV2l0aGRyYXdhbCBhbW91bnQKfQoKLy8gU3Vic2NyaWJlIG1lc3NhZ2UgCm1lc3NhZ2UgU3Vic2NyaWJlIHt9CgovLyBSZWZ1bmQgbWVzc2FnZQptZXNzYWdlIFJlZnVuZCB7fQoKY29udHJhY3QgU3Vic2NyaXB0aW9uQ29udHJhY3Qgd2l0aCBEZXBsb3lhYmxlIHsKICAgIG93bmVyOiBBZGRyZXNzOyAvLyBDb250cmFjdCBvd25lcgogICAgcHJpY2U6IEludCBhcyBjb2luczsgLy8gU3Vic2NyaXB0aW9uIHByaWNlCiAgICBiYWxhbmNlOiBJbnQgYXMgY29pbnM7IC8vIENvbnRyYWN0IGJhbGFuY2UKICAgIGZlZVJhdGU6IEludCBhcyB1aW50MzI7IC8vIEZlZSByYXRlIGZvciByZWZ1bmRzICgwLTEwMDAwLCB3aGVyZSAxMDAwMCA9IDEwMCUpCiAgICAKICAgIC8vIFVzZXIgc3Vic2NyaXB0aW9uIG1hcHBpbmcKICAgIHN1YnNjcmlwdGlvbnM6IG1hcDxBZGRyZXNzLCBJbnQ+OyAvLyBhZGRyZXNzID0+IGV4cGlyeSB0aW1lc3RhbXAKICAgIAogICAgLy8gRnJlZSB0cmlhbCBwZXJpb2QgKG9uZSB3ZWVrKQogICAgY29uc3QgVFJJQUxfUEVSSU9EOiBJbnQgPSA3ICogMjQgKiA2MCAqIDYwOyAvLyA3IGRheXMgaW4gc2Vjb25kcwogICAgY29uc3QgTUFYX0ZFRV9SQVRFOiBJbnQgPSAxMDAwMDsgLy8gTWF4aW11bSBmZWUgcmF0ZSAoMTAwJSkKICAgIAogICAgaW5pdChvd25lcjogQWRkcmVzcykgewogICAgICAgIHNlbGYub3duZXIgPSBvd25lcjsKICAgICAgICBzZWxmLnByaWNlID0gdG9uKCIxIik7IC8vIERlZmF1bHQgMSBUT04KICAgICAgICBzZWxmLmJhbGFuY2UgPSAwOwogICAgICAgIHNlbGYuZmVlUmF0ZSA9IDEwMDA7IC8vIERlZmF1bHQgMTAlIGZlZQogICAgfQoKICAgIC8vIENoZWNrIGlmIHNlbmRlciBpcyBjb250cmFjdCBvd25lcgogICAgZnVuIHJlcXVpcmVPd25lcigpIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIHJlcXVpcmUoY3R4LnNlbmRlciA9PSBzZWxmLm93bmVyLCAiT25seSBvd25lciBjYW4gY2FsbCIpOwogICAgfQoKICAgIC8vIFVwZGF0ZSBzdWJzY3JpcHRpb24gcHJpY2UKICAgIHJlY2VpdmUobXNnOiBVcGRhdGVQcmljZSkgewogICAgICAgIHNlbGYucmVxdWlyZU93bmVyKCk7CiAgICAgICAgcmVxdWlyZShtc2cubmV3UHJpY2UgPiAwLCAiUHJpY2UgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCIpOwogICAgICAgIHNlbGYucHJpY2UgPSBtc2cubmV3UHJpY2U7CiAgICB9CgogICAgLy8gVXBkYXRlIGZlZSByYXRlCiAgICByZWNlaXZlKG1zZzogVXBkYXRlRmVlUmF0ZSkgewogICAgICAgIHNlbGYucmVxdWlyZU93bmVyKCk7CiAgICAgICAgcmVxdWlyZShtc2cubmV3UmF0ZSA+IDAgJiYgbXNnLm5ld1JhdGUgPD0gc2VsZi5NQVhfRkVFX1JBVEUsICJJbnZhbGlkIGZlZSByYXRlIik7CiAgICAgICAgc2VsZi5mZWVSYXRlID0gbXNnLm5ld1JhdGU7CiAgICB9CgogICAgLy8gV2l0aGRyYXcgY29udHJhY3QgYmFsYW5jZQogICAgcmVjZWl2ZShtc2c6IFdpdGhkcmF3KSB7CiAgICAgICAgc2VsZi5yZXF1aXJlT3duZXIoKTsKICAgICAgICByZXF1aXJlKG1zZy5hbW91bnQgPD0gc2VsZi5iYWxhbmNlLCAiQmFsYW5jZSBpcyBub3QgZW5vdWdoIik7CiAgICAgICAgc2VsZi5iYWxhbmNlID0gc2VsZi5iYWxhbmNlIC0gbXNnLmFtb3VudDsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VsZi5vd25lciwKICAgICAgICAgICAgdmFsdWU6IG1zZy5hbW91bnQsCiAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMKICAgICAgICB9KTsKICAgIH0KICAgIC8vIFN1YnNjcmliZSB0byBzZXJ2aWNlCiAgICByZWNlaXZlKG1zZzogU3Vic2NyaWJlKSB7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICBsZXQgc2VuZGVyOiBBZGRyZXNzID0gY3R4LnNlbmRlcjsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBwYXltZW50IGFtb3VudAogICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHNlbGYucHJpY2UsICJQYXltZW50IGFtb3VudCBpcyBub3QgZW5vdWdoIik7CiAgICAgICAgCiAgICAgICAgLy8gVXBkYXRlIGNvbnRyYWN0IGJhbGFuY2UKICAgICAgICBzZWxmLmJhbGFuY2UgPSBzZWxmLmJhbGFuY2UgKyBjdHgudmFsdWU7CiAgICAgICAgCiAgICAgICAgLy8gR2V0IGN1cnJlbnQgdGltZXN0YW1wCiAgICAgICAgbGV0IG5vdzogSW50ID0gbm93KCk7CiAgICAgICAgCiAgICAgICAgLy8gSWYgbmV3IHVzZXIgd2hvIG5ldmVyIHVzZWQgZnJlZSB0cmlhbAogICAgICAgIGlmIChzZWxmLnN1YnNjcmlwdGlvbnMuZ2V0KHNlbmRlcikgPT0gbnVsbCkgewogICAgICAgICAgICAvLyBTZXQgdHJpYWwgcGVyaW9kIGVuZCB0aW1lCiAgICAgICAgICAgIHNlbGYuc3Vic2NyaXB0aW9ucy5zZXQoc2VuZGVyLCBub3cgKyBzZWxmLlRSSUFMX1BFUklPRCk7CiAgICAgICAgICAgIHNlbGYucmVwbHkoIkZyZWUgdHJpYWwgaGFzIHN0YXJ0ZWQiLmFzQ29tbWVudCgpKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBVcGRhdGUgc3Vic2NyaXB0aW9uIGV4cGlyeSB0aW1lCiAgICAgICAgbGV0IGN1cnJlbnRFeHBpcnk6IEludCA9IHNlbGYuc3Vic2NyaXB0aW9ucy5nZXQoc2VuZGVyKSEhOwogICAgICAgIAogICAgICAgIC8vIENhbGN1bGF0ZSBzdWJzY3JpcHRpb24gZHVyYXRpb24gYmFzZWQgb24gcGF5bWVudCBhbW91bnQKICAgICAgICBsZXQgbW9udGhJblNlY29uZHM6IEludCA9IDMwICogMjQgKiA2MCAqIDYwOyAvLyAzMCBkYXlzIGluIHNlY29uZHMKICAgICAgICBsZXQgc3Vic2NyaXB0aW9uUGVyaW9kOiBJbnQgPSAoY3R4LnZhbHVlICogbW9udGhJblNlY29uZHMpIC8gc2VsZi5wcmljZTsgLy8g5qC55o2u5pSv5LuY6YeR6aKd6K6h566X6K6i6ZiF5pe26ZW/CiAgICAgICAgCiAgICAgICAgbGV0IG5ld0V4cGlyeTogSW50ID0gbWF4KGN1cnJlbnRFeHBpcnksIG5vdykgKyBzdWJzY3JpcHRpb25QZXJpb2Q7CiAgICAgICAgc2VsZi5zdWJzY3JpcHRpb25zLnNldChzZW5kZXIsIG5ld0V4cGlyeSk7CiAgICAgICAgCiAgICAgICAgc2VsZi5yZXBseSgiU3Vic2NyaXB0aW9uIHN1Y2Nlc3NmdWwiLmFzQ29tbWVudCgpKTsKICAgIH0KCiAgICAvLyBSZWZ1bmQgdW51c2VkIHN1YnNjcmlwdGlvbiB0aW1lCiAgICByZWNlaXZlKG1zZzogUmVmdW5kKSB7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICBsZXQgc2VuZGVyOiBBZGRyZXNzID0gY3R4LnNlbmRlcjsKICAgICAgICBsZXQgbm93OiBJbnQgPSBub3coKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBpZiB1c2VyIGhhcyBhY3RpdmUgc3Vic2NyaXB0aW9uCiAgICAgICAgbGV0IGV4cGlyeTogSW50PyA9IHNlbGYuc3Vic2NyaXB0aW9ucy5nZXQoc2VuZGVyKTsKICAgICAgICByZXF1aXJlKGV4cGlyeSAhPSBudWxsLCAiTm8gYWN0aXZlIHN1YnNjcmlwdGlvbiIpOwogICAgICAgIHJlcXVpcmUoZXhwaXJ5ISEgPiBub3csICJTdWJzY3JpcHRpb24gYWxyZWFkeSBleHBpcmVkIik7CiAgICAgICAgCiAgICAgICAgLy8gQ2FsY3VsYXRlIHJlZnVuZCBhbW91bnQgYmFzZWQgb24gdW51c2VkIHRpbWUKICAgICAgICBsZXQgcmVtYWluaW5nVGltZTogSW50ID0gZXhwaXJ5ISEgLSBub3c7CiAgICAgICAgbGV0IHRvdGFsVGltZTogSW50ID0gZXhwaXJ5ISEgLSAobm93IC0gcmVtYWluaW5nVGltZSk7IC8vIOaAu+iuoumYheaXtumVvwogICAgICAgIAogICAgICAgIC8vIENhbGN1bGF0ZSB1c2VkIGFtb3VudCB3aXRoIGZlZSByYXRlCiAgICAgICAgbGV0IHVzZWRBbW91bnQ6IEludCA9IChzZWxmLnByaWNlICogKHRvdGFsVGltZSAtIHJlbWFpbmluZ1RpbWUpICogKDEwMDAwICsgc2VsZi5mZWVSYXRlKSkgLyAodG90YWxUaW1lICogMTAwMDApOwogICAgICAgIGxldCBmaW5hbFJlZnVuZEFtb3VudDogSW50ID0gbWF4KDAsIHNlbGYucHJpY2UgLSB1c2VkQW1vdW50KTsKICAgICAgICAKICAgICAgICByZXF1aXJlKGZpbmFsUmVmdW5kQW1vdW50IDw9IHNlbGYuYmFsYW5jZSwgIkNvbnRyYWN0IGJhbGFuY2Ugbm90IGVub3VnaCBmb3IgcmVmdW5kIik7CiAgICAgICAgCiAgICAgICAgLy8gVXBkYXRlIGNvbnRyYWN0IHN0YXRlCiAgICAgICAgc2VsZi5iYWxhbmNlID0gc2VsZi5iYWxhbmNlIC0gZmluYWxSZWZ1bmRBbW91bnQ7CiAgICAgICAgc2VsZi5zdWJzY3JpcHRpb25zLnNldChzZW5kZXIsIG5vdyk7CiAgICAgICAgCiAgICAgICAgLy8gU2VuZCByZWZ1bmQKICAgICAgICBpZiAoZmluYWxSZWZ1bmRBbW91bnQgPiAwKSB7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogc2VuZGVyLAogICAgICAgICAgICAgICAgdmFsdWU6IGZpbmFsUmVmdW5kQW1vdW50LAogICAgICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgc2VsZi5yZXBseSgiUmVmdW5kIHByb2Nlc3NlZCIuYXNDb21tZW50KCkpOwogICAgfQoKICAgIC8vIENoZWNrIHVzZXIgc3Vic2NyaXB0aW9uIHN0YXR1cwogICAgZ2V0IGZ1biBjaGVja1N1YnNjcmlwdGlvbih1c2VyOiBBZGRyZXNzKTogQm9vbCB7CiAgICAgICAgbGV0IGV4cGlyeTogSW50PyA9IHNlbGYuc3Vic2NyaXB0aW9ucy5nZXQodXNlcik7CiAgICAgICAgaWYgKGV4cGlyeSA9PSBudWxsKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGV4cGlyeSEhID4gbm93KCk7CiAgICB9CgogICAgLy8gR2V0IHVzZXIgc3Vic2NyaXB0aW9uIGV4cGlyeSB0aW1lCiAgICBnZXQgZnVuIGV4cGlyeVRpbWUodXNlcjogQWRkcmVzcyk6IEludCB7CiAgICAgICAgbGV0IGV4cGlyeTogSW50PyA9IHNlbGYuc3Vic2NyaXB0aW9ucy5nZXQodXNlcik7CiAgICAgICAgcmV0dXJuIGV4cGlyeSEhOyAvLyBGaXhlZCBzeW50YXggZXJyb3IsIHVzaW5nICEhIGluc3RlYWQgb2YgPz8KICAgIH0KCiAgICAvLyBHZXQgY3VycmVudCBzdWJzY3JpcHRpb24gcHJpY2UKICAgIGdldCBmdW4gcHJpY2UoKTogSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5wcmljZTsKICAgIH0KCiAgICAvLyBHZXQgY29udHJhY3QgYmFsYW5jZQogICAgZ2V0IGZ1biBiYWxhbmNlKCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYuYmFsYW5jZTsKICAgIH0KCiAgICAvLyBHZXQgY3VycmVudCBmZWUgcmF0ZQogICAgZ2V0IGZ1biBmZWVSYXRlKCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYuZmVlUmF0ZTsKICAgIH0KfQo="},"compiler":{"name":"tact","version":"1.5.2","parameters":"{\"entrypoint\":\"./sources/contract.tact\",\"options\":{\"debug\":false,\"masterchain\":false,\"external\":false,\"ipfsAbiGetter\":false,\"interfacesGetter\":false,\"experimental\":{\"inline\":false}}}"}}